import{s as Z,f as x,a as H,l as j,g as E,h as y,E as F,c as U,d as I,m as B,j as h,i as z,F as s,n as O,N as G,H as ee,o as te,O as J}from"../chunks/scheduler.22113444.js";import{S as le,i as ae,b as se,d as re,m as oe,a as ne,t as ie,e as ce}from"../chunks/index.49223602.js";import{e as T,P as he}from"../chunks/public.e8e08134.js";import{a as K}from"../chunks/axios.82afda87.js";import{I as fe}from"../chunks/InfiniteScroll.836125be.js";import{p as de}from"../chunks/stores.a0ca15c6.js";function Q(o,t,l){const i=o.slice();return i[10]=t[l],i}function W(o,t,l){const i=o.slice();return i[13]=t[l],i}function X(o){let t,l=o[13]+"",i,f;return{c(){t=x("a"),i=j(l),this.h()},l(n){t=E(n,"A",{href:!0,class:!0});var p=y(t);i=B(p,l),p.forEach(I),this.h()},h(){h(t,"href",f="/list/"+o[13]),h(t,"class","w-full rounded-[180px] border-2 border-solid border-gray-200 bg-slate-100 p-2 text-center text-gray-700 transition-all hover:bg-slate-400 hover:text-white")},m(n,p){z(n,t,p),s(t,i)},p(n,p){p&4&&l!==(l=n[13]+"")&&O(i,l),p&4&&f!==(f="/list/"+n[13])&&h(t,"href",f)},d(n){n&&I(t)}}}function Y(o){let t,l,i,f,n,p,v,_,L=o[10].name+"",b,V,d,$,C=o[10].author+"",k,N,w,D=o[10].introduction+"",P,S;return{c(){t=x("li"),l=x("a"),i=x("div"),f=x("img"),p=H(),v=x("div"),_=x("h3"),b=j(L),V=H(),d=x("span"),$=j("作者: "),k=j(C),N=H(),w=x("p"),P=j(D),this.h()},l(g){t=E(g,"LI",{});var r=y(t);l=E(r,"A",{href:!0,class:!0});var M=y(l);i=E(M,"DIV",{class:!0});var u=y(i);f=E(u,"IMG",{src:!0,class:!0,alt:!0}),u.forEach(I),p=U(M),v=E(M,"DIV",{class:!0});var e=y(v);_=E(e,"H3",{class:!0});var c=y(_);b=B(c,L),c.forEach(I),V=U(e),d=E(e,"SPAN",{class:!0});var m=y(d);$=B(m,"作者: "),k=B(m,C),m.forEach(I),N=U(e),w=E(e,"P",{class:!0});var a=y(w);P=B(a,D),a.forEach(I),e.forEach(I),M.forEach(I),r.forEach(I),this.h()},h(){J(f.src,n=o[4]+"/images/"+o[10].id+".jpg")||h(f,"src",n),h(f,"class","w-full"),h(f,"alt",""),h(i,"class","max-h-[240px] w-full max-w-[110px] overflow-hidden rounded-md"),h(_,"class","mb-2 font-bold"),h(d,"class","mb-2"),h(w,"class","text-xs text-gray-600"),h(v,"class","flex flex-col p-2"),h(l,"href",S="/"+o[10].id),h(l,"class","flex gap-2")},m(g,r){z(g,t,r),s(t,l),s(l,i),s(i,f),s(l,p),s(l,v),s(v,_),s(_,b),s(v,V),s(v,d),s(d,$),s(d,k),s(v,N),s(v,w),s(w,P)},p(g,r){r&1&&!J(f.src,n=g[4]+"/images/"+g[10].id+".jpg")&&h(f,"src",n),r&1&&L!==(L=g[10].name+"")&&O(b,L),r&1&&C!==(C=g[10].author+"")&&O(k,C),r&1&&D!==(D=g[10].introduction+"")&&O(P,D),r&1&&S!==(S="/"+g[10].id)&&h(l,"href",S)},d(g){g&&I(t)}}}function ue(o){let t,l,i="大家一起躺著賺-列表頁1",f,n,p='<input type="search" placeholder="請輸入關鍵字..." class="mb-4 w-full rounded-lg border-2 border-solid border-gray-200 bg-search p-4 outline-none focus:border-red-300"/>',v,_,L,b,V,d,$=o[0].length+"",C,k,N,w,D,P,S,g=T(o[2]),r=[];for(let e=0;e<g.length;e+=1)r[e]=X(W(o,g,e));let M=T(o[0]),u=[];for(let e=0;e<M.length;e+=1)u[e]=Y(Q(o,M,e));return P=new fe({props:{hasMore:o[1].length,window:!0,threshold:100}}),P.$on("loadMore",o[6]),{c(){t=x("div"),l=x("h1"),l.textContent=i,f=H(),n=x("div"),n.innerHTML=p,v=H(),_=x("div");for(let e=0;e<r.length;e+=1)r[e].c();L=H(),b=x("div"),V=j("共 "),d=x("span"),C=j($),k=j(" 部作品"),N=H(),w=x("ul");for(let e=0;e<u.length;e+=1)u[e].c();D=H(),se(P.$$.fragment),this.h()},l(e){t=E(e,"DIV",{class:!0});var c=y(t);l=E(c,"H1",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-18p1y2f"&&(l.textContent=i),f=U(c),n=E(c,"DIV",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-4ai2gw"&&(n.innerHTML=p),v=U(c),_=E(c,"DIV",{class:!0});var m=y(_);for(let q=0;q<r.length;q+=1)r[q].l(m);m.forEach(I),L=U(c),b=E(c,"DIV",{class:!0});var a=y(b);V=B(a,"共 "),d=E(a,"SPAN",{class:!0});var A=y(d);C=B(A,$),A.forEach(I),k=B(a," 部作品"),a.forEach(I),N=U(c),w=E(c,"UL",{class:!0});var R=y(w);for(let q=0;q<u.length;q+=1)u[q].l(R);D=U(R),re(P.$$.fragment,R),R.forEach(I),c.forEach(I),this.h()},h(){h(l,"class","hidden text-3xl font-bold text-red-300"),h(n,"class","mt-8"),h(_,"class","mb-8 grid grid-cols-4 gap-6 md:grid-cols-6 xl:grid-cols-12"),h(d,"class","text-red-300"),h(b,"class","mb-4"),h(w,"class","grid grid-cols-1 gap-8 md:grid-cols-3"),h(t,"class","mx-auto grid max-w-6xl px-4")},m(e,c){z(e,t,c),s(t,l),s(t,f),s(t,n),s(t,v),s(t,_);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(_,null);s(t,L),s(t,b),s(b,V),s(b,d),s(d,C),s(b,k),s(t,N),s(t,w);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(w,null);s(w,D),oe(P,w,null),S=!0},p(e,[c]){if(c&4){g=T(e[2]);let a;for(a=0;a<g.length;a+=1){const A=W(e,g,a);r[a]?r[a].p(A,c):(r[a]=X(A),r[a].c(),r[a].m(_,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=g.length}if((!S||c&1)&&$!==($=e[0].length+"")&&O(C,$),c&17){M=T(e[0]);let a;for(a=0;a<M.length;a+=1){const A=Q(e,M,a);u[a]?u[a].p(A,c):(u[a]=Y(A),u[a].c(),u[a].m(w,D))}for(;a<u.length;a+=1)u[a].d(1);u.length=M.length}const m={};c&2&&(m.hasMore=e[1].length),P.$set(m)},i(e){S||(ne(P.$$.fragment,e),S=!0)},o(e){ie(P.$$.fragment,e),S=!1},d(e){e&&I(t),G(r,e),G(u,e),ce(P)}}}function _e(o,t,l){let i;ee(o,de,d=>l(7,i=d));const f=he;let n=[],p=[],v=[],_=1;i.url.searchParams.get("cat");async function L(){let d=await K.get("/api/novels/category/list");l(2,v=[...v,...d.data])}async function b(){const d=await K.get(`/api/novels?page=${_}&size=24`);l(1,p=d.data)}te(()=>{L(),b()});const V=()=>{l(3,_++,_),b()};return o.$$.update=()=>{o.$$.dirty&3&&l(0,n=[...n,...p])},[n,p,v,_,f,b,V]}class xe extends le{constructor(t){super(),ae(this,t,_e,ue,Z,{})}}export{xe as component};
