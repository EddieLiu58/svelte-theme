import{e as $}from"../chunks/index.93323930.js";import{a as F}from"../chunks/axios.82afda87.js";import{s as ee,f as y,a as O,l as U,g as w,h as M,E as J,c as T,d as E,m as A,j as u,i as G,F as r,n as z,N as K,o as te,x as le,O as Q}from"../chunks/scheduler.22113444.js";import{S as ae,i as se,b as re,d as oe,m as ne,a as ce,t as ie,e as de}from"../chunks/index.49223602.js";import{e as R,P as he}from"../chunks/public.e8e08134.js";import{I as fe}from"../chunks/InfiniteScroll.836125be.js";import{j as ue}from"../chunks/singletons.3cd02dd3.js";const _e=!1,ge=async({params:s})=>{let t=[],l=s.category;const o=await F.get(`/api/novels/category?page=1&size=24&cat=${l}`);if(t=o.data,o)return{item:t,category:l};throw $(404,"Not found")},Me=Object.freeze(Object.defineProperty({__proto__:null,load:ge,ssr:_e},Symbol.toStringTag,{value:"Module"})),me=ue("goto");function W(s,t,l){const o=s.slice();return o[12]=t[l],o}function X(s,t,l){const o=s.slice();return o[15]=t[l],o}function Y(s){let t,l=s[15]+"",o,_,d;function k(){return s[8](s[15])}return{c(){t=y("button"),o=U(l),this.h()},l(i){t=w(i,"BUTTON",{class:!0});var c=M(t);o=A(c,l),c.forEach(E),this.h()},h(){u(t,"class","w-full rounded-[180px] border-2 border-solid border-gray-200 bg-slate-100 p-2 text-center text-gray-700 transition-all hover:bg-slate-400 hover:text-white")},m(i,c){G(i,t,c),r(t,o),_||(d=le(t,"click",k),_=!0)},p(i,c){s=i,c&2&&l!==(l=s[15]+"")&&z(o,l)},d(i){i&&E(t),_=!1,d()}}}function Z(s){let t,l,o,_,d,k,i,c,L=s[12].name+"",x,S,v,C,P=s[12].author+"",g,B,b,j=s[12].introduction+"",I,V;return{c(){t=y("li"),l=y("a"),o=y("div"),_=y("img"),k=O(),i=y("div"),c=y("h3"),x=U(L),S=O(),v=y("span"),C=U("作者: "),g=U(P),B=O(),b=y("p"),I=U(j),this.h()},l(m){t=w(m,"LI",{});var n=M(t);l=w(n,"A",{href:!0,class:!0});var D=M(l);o=w(D,"DIV",{class:!0});var f=M(o);_=w(f,"IMG",{src:!0,class:!0,alt:!0}),f.forEach(E),k=T(D),i=w(D,"DIV",{class:!0});var e=M(i);c=w(e,"H3",{class:!0});var h=M(c);x=A(h,L),h.forEach(E),S=T(e),v=w(e,"SPAN",{class:!0});var p=M(v);C=A(p,"作者: "),g=A(p,P),p.forEach(E),B=T(e),b=w(e,"P",{class:!0});var a=M(b);I=A(a,j),a.forEach(E),e.forEach(E),D.forEach(E),n.forEach(E),this.h()},h(){Q(_.src,d=s[3]+"/images/"+s[12].id+".jpg")||u(_,"src",d),u(_,"class","w-full"),u(_,"alt",""),u(o,"class","max-h-[240px] w-full max-w-[110px] overflow-hidden rounded-md"),u(c,"class","mb-2 font-bold"),u(v,"class","mb-2"),u(b,"class","text-xs text-gray-600"),u(i,"class","flex flex-col p-2"),u(l,"href",V="/"+s[12].id),u(l,"class","flex gap-2")},m(m,n){G(m,t,n),r(t,l),r(l,o),r(o,_),r(l,k),r(l,i),r(i,c),r(c,x),r(i,S),r(i,v),r(v,C),r(v,g),r(i,B),r(i,b),r(b,I)},p(m,n){n&1&&!Q(_.src,d=m[3]+"/images/"+m[12].id+".jpg")&&u(_,"src",d),n&1&&L!==(L=m[12].name+"")&&z(x,L),n&1&&P!==(P=m[12].author+"")&&z(g,P),n&1&&j!==(j=m[12].introduction+"")&&z(I,j),n&1&&V!==(V="/"+m[12].id)&&u(l,"href",V)},d(m){m&&E(t)}}}function pe(s){let t,l,o="大家一起躺著賺-列表頁1",_,d,k='<input type="search" placeholder="請輸入關鍵字..." class="mb-4 w-full rounded-lg border-2 border-solid border-gray-200 bg-search p-4 outline-none focus:border-red-300"/>',i,c,L,x,S,v,C=s[0].length+"",P,g,B,b,j,I,V,m=R(s[1]),n=[];for(let e=0;e<m.length;e+=1)n[e]=Y(X(s,m,e));let D=R(s[0]),f=[];for(let e=0;e<D.length;e+=1)f[e]=Z(W(s,D,e));return I=new fe({props:{hasMore:s[0].length,window:!0,threshold:100}}),I.$on("loadMore",s[9]),{c(){t=y("div"),l=y("h1"),l.textContent=o,_=O(),d=y("div"),d.innerHTML=k,i=O(),c=y("div");for(let e=0;e<n.length;e+=1)n[e].c();L=O(),x=y("div"),S=U("共 "),v=y("span"),P=U(C),g=U(" 部作品"),B=O(),b=y("ul");for(let e=0;e<f.length;e+=1)f[e].c();j=O(),re(I.$$.fragment),this.h()},l(e){t=w(e,"DIV",{class:!0});var h=M(t);l=w(h,"H1",{class:!0,"data-svelte-h":!0}),J(l)!=="svelte-18p1y2f"&&(l.textContent=o),_=T(h),d=w(h,"DIV",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-4ai2gw"&&(d.innerHTML=k),i=T(h),c=w(h,"DIV",{class:!0});var p=M(c);for(let H=0;H<n.length;H+=1)n[H].l(p);p.forEach(E),L=T(h),x=w(h,"DIV",{class:!0});var a=M(x);S=A(a,"共 "),v=w(a,"SPAN",{class:!0});var N=M(v);P=A(N,C),N.forEach(E),g=A(a," 部作品"),a.forEach(E),B=T(h),b=w(h,"UL",{class:!0});var q=M(b);for(let H=0;H<f.length;H+=1)f[H].l(q);j=T(q),oe(I.$$.fragment,q),q.forEach(E),h.forEach(E),this.h()},h(){u(l,"class","hidden text-3xl font-bold text-red-300"),u(d,"class","mt-8"),u(c,"class","mb-8 grid grid-cols-4 gap-6 md:grid-cols-6 xl:grid-cols-12"),u(v,"class","text-red-300"),u(x,"class","mb-4"),u(b,"class","grid grid-cols-1 gap-8 md:grid-cols-3"),u(t,"class","mx-auto grid max-w-6xl px-4")},m(e,h){G(e,t,h),r(t,l),r(t,_),r(t,d),r(t,i),r(t,c);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(c,null);r(t,L),r(t,x),r(x,S),r(x,v),r(v,P),r(x,g),r(t,B),r(t,b);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(b,null);r(b,j),ne(I,b,null),V=!0},p(e,[h]){if(h&34){m=R(e[1]);let a;for(a=0;a<m.length;a+=1){const N=X(e,m,a);n[a]?n[a].p(N,h):(n[a]=Y(N),n[a].c(),n[a].m(c,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=m.length}if((!V||h&1)&&C!==(C=e[0].length+"")&&z(P,C),h&9){D=R(e[0]);let a;for(a=0;a<D.length;a+=1){const N=W(e,D,a);f[a]?f[a].p(N,h):(f[a]=Z(N),f[a].c(),f[a].m(b,j))}for(;a<f.length;a+=1)f[a].d(1);f.length=D.length}const p={};h&1&&(p.hasMore=e[0].length),I.$set(p)},i(e){V||(ce(I.$$.fragment,e),V=!0)},o(e){ie(I.$$.fragment,e),V=!1},d(e){e&&E(t),K(n,e),K(f,e),de(I)}}}function ve(s,t,l){let{data:o}=t;const _=he;let d=[],k=[],i=[],c=1,L=o.category;async function x(){let g=await F.get("/api/novels/category/list");l(1,i=[...i,...g.data])}async function S(){k=(await F.get(`/api/novels/category?page=${c}&size=24&cat=${L}`)).data,l(0,d=[...d,...k])}async function v(g){me(`/list/${g}`),l(2,c=1),l(0,d=[]),console.log(d),l(7,L=g),S()}te(()=>{l(0,d=[...d,...o.item]),x()});const C=g=>{v(g)},P=()=>{l(2,c++,c),S()};return s.$$set=g=>{"data"in g&&l(6,o=g.data)},s.$$.update=()=>{s.$$.dirty&1,s.$$.dirty&128},[d,i,c,_,S,v,o,L,C,P]}class Pe extends ae{constructor(t){super(),se(this,t,ve,pe,ee,{data:6})}}export{Pe as component,Me as universal};
