import{s as z,e as y,i as M,G as g,d as E,D,o as I,P as N,f as W,g as j,h as q,j as C,k as G,p as O}from"./scheduler.22113444.js";import{S as P,i as V}from"./index.49223602.js";function L(n){let t;return{c(){t=W("div"),this.h()},l(e){t=j(e,"DIV",{id:!0,style:!0}),q(t).forEach(E),this.h()},h(){C(t,"id","svelte-infinite-scroll"),G(t,"width","0")},m(e,o){M(e,t,o),n[11](t)},p:g,d(e){e&&E(t),n[11](null)}}}function v(n){let t,e=!n[1]&&!n[0]&&L(n);return{c(){e&&e.c(),t=y()},l(o){e&&e.l(o),t=y()},m(o,s){e&&e.m(o,s),M(o,t,s)},p(o,[s]){!o[1]&&!o[0]?e?e.p(o,s):(e=L(o),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:g,o:g,d(o){o&&E(t),e&&e.d(o)}}}function A(n,t,e){let{threshold:o=0}=t,{horizontal:s=!1}=t,{elementScroll:m=null}=t,{hasMore:d=!0}=t,{reverse:c=!1}=t,{window:_=!1}=t;const H=D();let f=!1,u,S,w,r;const a=l=>{if(!d)return;const h=l.target;T(h,c,s)<=o?(!f&&d&&(H("loadMore"),e(8,S=h.scrollHeight),e(9,w=h.scrollTop)),e(7,f=!0)):e(7,f=!1)},T=(l,h,b)=>{const i=l.documentElement?l.documentElement:l;return h?b?i.scrollLeft:i.scrollTop:b?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollHeight-i.clientHeight-i.scrollTop};I(()=>{_?e(10,r=document):m?e(10,r=m):e(10,r=u.parentNode)}),N(()=>{r&&(r.removeEventListener("scroll",a),r.removeEventListener("resize",a))});function k(l){O[l?"unshift":"push"](()=>{u=l,e(2,u)})}return n.$$set=l=>{"threshold"in l&&e(3,o=l.threshold),"horizontal"in l&&e(4,s=l.horizontal),"elementScroll"in l&&e(0,m=l.elementScroll),"hasMore"in l&&e(5,d=l.hasMore),"reverse"in l&&e(6,c=l.reverse),"window"in l&&e(1,_=l.window)},n.$$.update=()=>{n.$$.dirty&1088&&r&&(c&&e(10,r.scrollTop=r.scrollHeight,r),r.addEventListener("scroll",a),r.addEventListener("resize",a)),n.$$.dirty&1984&&f&&c&&e(10,r.scrollTop=r.scrollHeight-S+w,r)},[m,_,u,o,s,d,c,f,S,w,r,k]}class J extends P{constructor(t){super(),V(this,t,A,v,z,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}export{J as I};
